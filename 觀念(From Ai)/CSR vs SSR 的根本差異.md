## ğŸ­ CSR vs SSR çš„æ ¹æœ¬å·®ç•°

### ğŸ“± CSR (Client-Side Rendering) - ä½ ç†Ÿæ‚‰çš„æ¨¡å¼
```
ç”¨æˆ¶è¨ªå•ç¶²ç«™
      â†“
ğŸŒ ä¼ºæœå™¨è¿”å›ç©ºçš„ HTML + JS bundle
      â†“
ğŸ“± ç€è¦½å™¨ä¸‹è¼‰ä¸¦åŸ·è¡Œ JavaScript
      â†“
ğŸ”„ JavaScript æ¸²æŸ“é é¢å…§å®¹
      â†“
ğŸ¯ ç”¨æˆ¶çœ‹åˆ°å®Œæ•´é é¢
```

**ç‰¹é»**ï¼š
- ä¼ºæœå™¨åªæ˜¯ã€Œæª”æ¡ˆå­˜æ”¾è™•ã€
- æ‰€æœ‰é‚è¼¯éƒ½åœ¨ç€è¦½å™¨åŸ·è¡Œ
- SPA (Single Page Application)

### ğŸ–¥ï¸ SSR (Server-Side Rendering) - SvelteKit/Nuxt æ¨¡å¼
```
ç”¨æˆ¶è¨ªå•ç¶²ç«™
      â†“
ğŸ–¥ï¸ ä¼ºæœå™¨åŸ·è¡Œ JavaScript (Node.js)
      â†“
ğŸ¨ ä¼ºæœå™¨æ¸²æŸ“å®Œæ•´ HTML
      â†“
ğŸ“¤ ä¼ºæœå™¨å‚³é€å®Œæ•´é é¢çµ¦ç€è¦½å™¨
      â†“
âš¡ ç€è¦½å™¨ hydration (è®Šæˆäº’å‹•å¼)
```

## ğŸ”„ è©³ç´°é‹ä½œæµç¨‹æ¯”è¼ƒ

### CSR æµç¨‹
````javascript
// 1. ä¼ºæœå™¨åªæä¾›éœæ…‹æª”æ¡ˆ
// index.html
<!DOCTYPE html>
<html>
<head>
    <title>My App</title>
</head>
<body>
    <div id="app"></div>  <!-- ç©ºçš„å®¹å™¨ -->
    <script src="app.js"></script>  <!-- æ‰€æœ‰é‚è¼¯ -->
</body>
</html>

// 2. ç€è¦½å™¨åŸ·è¡Œ JavaScript
// app.js
import { createApp } from 'vue'; // æˆ– React/Svelte

createApp({
    async mounted() {
        // åœ¨ç€è¦½å™¨ä¸­ç²å–è³‡æ–™
        const data = await fetch('/api/posts');
        this.posts = await data.json();
    }
}).mount('#app');
````

### SSR æµç¨‹ (SvelteKit)
````javascript
// 1. ä¼ºæœå™¨ç«¯åŸ·è¡Œ (Node.js ç’°å¢ƒ)
// +page.server.js
export async function load() {
    // åœ¨ä¼ºæœå™¨åŸ·è¡Œï¼
    console.log('é€™æœƒåœ¨ä¼ºæœå™¨ console é¡¯ç¤º');
    
    const posts = await database.getPosts(); // ç›´æ¥æŸ¥è©¢è³‡æ–™åº«
    
    return {
        posts
    };
}

// 2. ä¼ºæœå™¨æ¸²æŸ“ HTML
// +page.svelte
<script>
    let { data } = $props(); // ä¾†è‡ªä¼ºæœå™¨çš„è³‡æ–™
</script>

<h1>éƒ¨è½æ ¼æ–‡ç« </h1>
{#each data.posts as post}
    <article>{post.title}</article>
{/each}

// 3. ä¼ºæœå™¨ç”¢ç”Ÿçš„ HTML (å·²åŒ…å«è³‡æ–™)
// å‚³é€çµ¦ç€è¦½å™¨çš„å…§å®¹ï¼š
<!DOCTYPE html>
<html>
<body>
    <h1>éƒ¨è½æ ¼æ–‡ç« </h1>
    <article>ç¬¬ä¸€ç¯‡æ–‡ç« </article>
    <article>ç¬¬äºŒç¯‡æ–‡ç« </article>
    <script>/* hydration ç”¨çš„ JS */</script>
</body>
</html>
````

## ğŸ¯ ç‚ºä»€éº¼éœ€è¦ SSRï¼Ÿè§£æ±ºäº†ä»€éº¼å•é¡Œï¼Ÿ

### 1. **SEO å•é¡Œ**
```
ğŸ” æœå°‹å¼•æ“çˆ¬èŸ²çœ‹åˆ°çš„å…§å®¹ï¼š

CSR:
<div id="app"></div>  âŒ ç©ºçš„ï¼Œç„¡æ³•ç´¢å¼•

SSR:
<h1>æˆ‘çš„éƒ¨è½æ ¼</h1>
<article>æ–‡ç« å…§å®¹...</article>  âœ… å®Œæ•´å…§å®¹ï¼ŒSEO å‹å–„
```

### 2. **é¦–å±è¼‰å…¥é€Ÿåº¦**
```
â±ï¸ ç”¨æˆ¶é«”é©—æ™‚é–“è»¸ï¼š

CSR:
0ms   â†’ ç”¨æˆ¶é»æ“Šé€£çµ
100ms â†’ æ”¶åˆ°ç©º HTML
500ms â†’ ä¸‹è¼‰ JS bundle
800ms â†’ åŸ·è¡Œ JS
1200ms â†’ API è«‹æ±‚å®Œæˆ
1500ms â†’ ç”¨æˆ¶çœ‹åˆ°å…§å®¹ âŒ æ…¢

SSR:
0ms   â†’ ç”¨æˆ¶é»æ“Šé€£çµ
200ms â†’ æ”¶åˆ°å®Œæ•´ HTML
250ms â†’ ç”¨æˆ¶çœ‹åˆ°å…§å®¹ âœ… å¿«
300ms â†’ JS hydration å®Œæˆ (è®Šäº’å‹•)
```

### 3. **å®‰å…¨æ€§**
````javascript
// CSR - æ‰€æœ‰é‚è¼¯æš´éœ²
const API_KEY = "secret_key"; // âŒ åœ¨ç€è¦½å™¨ä¸­å¯è¦‹

// SSR - æ•æ„Ÿé‚è¼¯åœ¨ä¼ºæœå™¨
// +page.server.js
const API_KEY = process.env.SECRET_KEY; // âœ… å®‰å…¨
````

## ğŸ—ï¸ SvelteKit çš„æ··åˆæ¶æ§‹

SvelteKit å·§å¦™åœ°çµåˆäº†å…©è€…å„ªé»ï¼š

### é¦–æ¬¡è¨ªå• (SSR)
```
ç”¨æˆ¶ç›´æ¥è¨ªå• /blog/hello-world
      â†“
ğŸ–¥ï¸ ä¼ºæœå™¨åŸ·è¡Œ +page.server.js
      â†“
ğŸ“„ ç”¢ç”Ÿå®Œæ•´ HTML (SEO å‹å–„)
      â†“
ğŸ“¤ å‚³é€çµ¦ç€è¦½å™¨
      â†“
âš¡ JavaScript hydration (è®Šäº’å‹•)
```

### å¾ŒçºŒå°èˆª (CSR)
```
ç”¨æˆ¶é»æ“Šç«™å…§é€£çµ
      â†“
ğŸŒ ç€è¦½å™¨æ””æˆªå°èˆª
      â†“
ğŸ“¡ AJAX è«‹æ±‚æ–°é é¢è³‡æ–™
      â†“
ğŸ¨ å®¢æˆ¶ç«¯æ¸²æŸ“ (SPA é«”é©—)
```

## ğŸ§  é‹ä½œåŸç†åœ–è§£

```
ğŸŒ ç¶²éš›ç¶²è·¯
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸ–¥ï¸ Node.js ä¼ºæœå™¨         â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚         SvelteKit App           â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚  ğŸ“ src/routes/                 â”‚â”‚
â”‚  â”‚    â”œâ”€â”€ +layout.svelte           â”‚â”‚
â”‚  â”‚    â”œâ”€â”€ +page.svelte             â”‚â”‚
â”‚  â”‚    â”œâ”€â”€ +page.server.js âš¡        â”‚â”‚
â”‚  â”‚    â””â”€â”€ +page.js                 â”‚â”‚
â”‚  â”‚                                 â”‚â”‚
â”‚  â”‚  ğŸ—„ï¸ è³‡æ–™åº«é€£ç·š                    â”‚â”‚
â”‚  â”‚  ğŸ” ç’°å¢ƒè®Šæ•¸                      â”‚â”‚
â”‚  â”‚  ğŸ“ æª”æ¡ˆç³»çµ±                      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚  è¼¸å‡ºï¼šå®Œæ•´çš„ HTML + è³‡æ–™              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ğŸŒ ç”¨æˆ¶ç€è¦½å™¨              â”‚
â”‚                                     â”‚
â”‚  ğŸ“„ æ”¶åˆ°å®Œæ•´ HTML                     â”‚
â”‚  âš¡ JavaScript Hydration             â”‚
â”‚  ğŸ­ è®Šæˆäº’å‹•å¼ SPA                    â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ å¯¦éš›é–‹ç™¼å·®ç•°

### CSR é–‹ç™¼æ€ç¶­
````javascript
// éƒ½åœ¨ç€è¦½å™¨
async function loadPosts() {
    const response = await fetch('/api/posts');
    return response.json();
}

// åœ¨ component ä¸­
onMounted(async () => {
    posts = await loadPosts();
});
````

### SSR é–‹ç™¼æ€ç¶­
````javascript
// åˆ†é›¢é—œæ³¨é»

// 1. ä¼ºæœå™¨ç«¯ (+page.server.js)
export async function load() {
    // åœ¨ä¼ºæœå™¨åŸ·è¡Œï¼Œå¯ä»¥åšä»»ä½•äº‹
    const posts = await db.posts.findMany();
    return { posts };
}

// 2. å®¢æˆ¶ç«¯ (+page.svelte)
<script>
    // è³‡æ–™å·²ç¶“æº–å‚™å¥½äº†
    let { data } = $props();
</script>

{#each data.posts as post}
    <!-- ä¼ºæœå™¨å·²æ¸²æŸ“ï¼ŒSEO å‹å–„ -->
{/each}
````

## ğŸ¯ ç¸½çµï¼šç‚ºä»€éº¼è¦ç”¨ SSRï¼Ÿ

1. **æ›´å¥½çš„ SEO** - æœå°‹å¼•æ“èƒ½çœ‹åˆ°å®Œæ•´å…§å®¹
2. **æ›´å¿«çš„é¦–å±** - ç”¨æˆ¶ç«‹å³çœ‹åˆ°å…§å®¹  
3. **æ›´å¥½çš„å®‰å…¨æ€§** - æ•æ„Ÿé‚è¼¯åœ¨ä¼ºæœå™¨
4. **æ›´å¥½çš„å¯è¨ªå•æ€§** - å³ä½¿ JS å¤±æ•ˆä¹Ÿèƒ½å·¥ä½œ
5. **æ··åˆé«”é©—** - é¦–æ¬¡ SSR + å¾ŒçºŒ CSR

SvelteKit è®“ä½ èƒ½å¤ åœ¨åŒä¸€å€‹å°ˆæ¡ˆä¸­äº«å— SSR å’Œ CSR çš„æ‰€æœ‰å„ªé»ï¼