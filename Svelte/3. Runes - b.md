# Run
4. [$props](#props)
5. [$bindable](#bindable)
6. [$inspect](#inspect)
   - [$inspect]()
   - [$inspect(...).with](#inspectwith)
   - [$inspect.trace(...)](#inspecttrace)
7. [$host](#host)

## `$props`

`$props` 父組件屬性傳遞給子組件。

`App.svelte`
```svelte
<script>
	import MyComponent from './MyComponent.svelte';
</script>

<MyComponent title="Its Monday" />
```

`MyComponent.svelte`
```svelte
<script lang="ts">
	let props:{ title: string} = $props();
</script>

<p>這個組件是 {props.title}</p>
```

props 解構、預設值、重新命名
```svelte
<script>
	let { title:name = 'Its Sunday' } = $props();
</script>

<p>這個組件是 {name}</p>
```

## `$bindable`

`App.svelte`
```svelte
<script>
	import MyInput from './MyInput.svelte';

	let message = $state('Hello');
</script>

<MyInput bind:value={message} />
<p>{message}</p>
```

`MyInput`
```svelte
<script>
	let { value = $bindable('Hi'), ...props } = $props();
</script>

<input bind:value={value} {...props} />
```

## `$inspect`
### `$inspect`
> ⚠️ `$inspect` 僅在開發環境有效。在生產建構環境中它會變成空操作。

`$inspect` 符文大致等同於 `console.log`，不同之處在於當其參數發生變化時它會重新運行。
```svelte
<script>
	let count = $state(0);
	let message = $state('hello');

	// 當 `count` 或 `message` 改變時會調用 console.log
  $inspect(count, message); 
</script>

<button onclick={() => count++}>遞增</button>
<input bind:value={message} />
```

### `$inspect(...).with`
`$inspect` 返回一個 with 屬性，可以用call back函數調用它，該回調函數將代替 `console.log` 被調用。
```svelte
<script>
	let count = $state(0);

	$inspect(count).with((type, count) => {
    // type："init" 或 "update"
		if (type === 'update') {
			// debugger 或者使用 `console.trace`，或其他操作
		}
	});
</script>

<button onclick={() => count++}>遞增</button>
```

### `$inspect.trace(...)`
這個符文在 5.14 版本中添加，會使周圍的函數在開發環境中被追蹤。每當函數作為 effect 或 derived 的一部分重新運行時，控制枱都會打印出哪些響應式狀態導致了 effect 觸發。
```svelte
<script>
	function doSomeWork() {
    // ...
  }

	$effect(() => {
		$inspect.trace();
		doSomeWork();
	});
</script>
```

### $host
當將組件編譯為自定義元素(customElement)時，`$host` 符文提供了對主元素的訪問，例如 觸發自定義事件。

`App.svelte`
```svelte
<script lang="ts">
	import './Stepper.svelte';

	let count = $state(0);
</script>

<my-stepper
	ondecrement={() => count -= 1}
	onincrement={() => count += 1}
></my-stepper>

<p>count: {count}</p>
```

`Stepper.svelte`
```svelte
<svelte:options customElement="my-stepper" />

<script lang="ts">
	function dispatch(type) {
		$host().dispatchEvent(new CustomEvent(type));
	}
</script>

<button onclick={() => dispatch('decrement')}>decrement</button>
<button onclick={() => dispatch('increment')}>increment</button>
```