# Imperative Component API

Imperative Component API 是指「以命令式方式建立和操作 component 的方式」。

通常會在以下情境中用到：
- 動態地根據條件在程式中手動建立 component
- 在模組之外使用 component（例如：modal、toast 系統）
- 不透過 Svelte 的 `<svelte:component>` 或 `<Component>` 來使用元件

## mount
實例化一個組件並將其掛載到指定目標：
```js
import { mount } from 'svelte';
import App from './App.svelte';

const app = mount(App, {
  target: document.querySelector('#app'),
  props: { some: 'property' }
});
```
可以在每個頁面上掛載多個組件，也可以在應用程序內部進行掛載，例如創建一個 tooltip 組件並將其附加到鼠標懸停的元素上。

請注意，與 Svelte 4 中調用 `new App(...)` 不同，effects（包括 `onMount` 回調和 action 函數）不會在 `mount` 期間運行。如果你需要強制執行待處理的 effects（例如在測試環境中），可以使用 `flushSync()`。

## unmount
卸載通過 `mount` 或 `hydrate` 創建的組件。

如果 `options.outro` 為 `true`，過渡效果將在組件從 DOM 中移除之前播放：

```js
import { mount, unmount } from 'svelte';
import App from './App.svelte';

const app = mount(App, { target: document.body });

// 稍後
unmount(app, { outro: true });
```

返回一個 `Promise`，如果 `options.outro` 為 `true`，則在過渡完成後 resolve，否則立即 resolve。

## render
僅在服務端且使用 `server` 選項編譯時可用。接受一個組件並返回一個具有 `body` 和 `head` 屬性的對象，你可以在服務端渲染應用程序時使用這些屬性來填充 HTML：

```js
import { render } from 'svelte/server';
import App from './App.svelte';

const result = render(App, {
  props: { some: 'property' }
});
result.body; // 用於 <body> 標籤中的某處的 HTML
result.head; // 用於 <head> 標籤中的某處的 HTML
```

## hydrate
與 `mount` 類似，但會複用 Svelte 的 SSR 輸出（來自 `render` 函數）中渲染的 HTML，並使其具有交互性：

```js
import { hydrate } from 'svelte';
import App from './App.svelte';

const app = hydrate(App, {
  target: document.querySelector('#app'),
  props: { some: 'property' }
});
```
與 `mount` 一樣，effects 不會在 `hydrate` 期間運行 — 如果您需要它們立即生效，請立即使用 `flushSync()`。