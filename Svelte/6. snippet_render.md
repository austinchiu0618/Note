# Template syntax
- [{#snippet ...}](#snippet-)
   - [Passing snippets to components](#passing-snippets-to-components)
   - [Typing snippets](#typing-snippets)
   - [Exporting snippets](#exporting-snippets)
- [{@render}](#snippet-)

## {#snippet ...}
snippet å’Œ render tags åœ¨çµ„ä»¶å…§éƒ¨å‰µå»ºå¾Œï¼Œå¯è¤‡ç”¨çš„ä¸€ç¨®æ–¹æ³•

```svelte
{#snippet figure(image)}
  <figure>
    <img src={image.src} alt={image.caption} width={image.width} height{image.height} />
    <figcaption>{image.caption}</figcaption>
  </figure>
{/snippet}

{#each images as image}
    {#if image.href}
        <a href={image.href}>
                {@render figure(image)}
        </a>
    {:else}
        {@render figure(image)}
    {/if}
{/each}
```

### Snippet scope
snippet å¯ä»¥åœ¨çµ„ä»¶çš„ä»»ä½•åœ°æ–¹è²æ˜ã€‚å®ƒå€‘å¯ä»¥å¼•ç”¨åœ¨è‡ªèº«ä¹‹å¤–è²æ˜çš„å€¼ï¼Œä¾‹å¦‚åœ¨ `<script>` æ¨™ç±¤æˆ– `{#each ...}` å¡Šä¸­
```svelte
<script>
	let { message = `it's great to see you!` } = $props();
</script>

{#snippet hello(name)}
	<p>hello {name}! {message}!</p>
{/snippet}

{@render hello('alice')}
{@render hello('bob')}
```

âš ï¸ æ³¨æ„ snippet ä½œç”¨åŸŸ
```svelte
<div>
	{#snippet x()}
		{#snippet y()}...{/snippet}

		<!-- this is fine -->
		{@render y()}
	{/snippet}

	<!-- this will error, as `y` is not in scope -->
	{@render y()}
</div>

<!-- this will also error, as `x` is not in scope -->
{@render x()}
```

snippet å¯ä»¥å¼•ç”¨è‡ªèº«å’Œå…¶ä»– snippet
```svelte
{#snippet blastoff()}
	<span>ğŸš€</span>
{/snippet}

{#snippet countdown(n)}
	{#if n > 0}
		<span>{n}...</span>
    <!-- å¼•ç”¨è‡ªèº« -->
		{@render countdown(n - 1)} 
	{:else}
    <!-- å¼•ç”¨å…¶ä»– snippet -->
		{@render blastoff()}
	{/if}
{/snippet}

{@render countdown(10)}
```

### Passing snippets to components
åœ¨æ¨¡æ¿ä¸­ï¼Œsnippet å’Œå…¶ä»–å€¼ä¸€æ¨£ã€‚å®ƒå€‘å¯ä»¥ä½œç‚º props å‚³éçµ¦çµ„ä»¶

```svelte
<script>
	import Table from './Table.svelte';

	const fruits = [
		{ name: 'apples', qty: 5, price: 2 },
		{ name: 'bananas', qty: 10, price: 1 },
		{ name: 'cherries', qty: 20, price: 0.5 }
	];
</script>

{#snippet header()}
	<th>fruit</th>
	<th>qty</th>
	<th>price</th>
	<th>total</th>
{/snippet}

{#snippet row(d)}
	<td>{d.name}</td>
	<td>{d.qty}</td>
	<td>{d.price}</td>
	<td>{d.qty * d.price}</td>
{/snippet}

<Table data={fruits} {header} {row} />
```

çµ„ä»¶æ¨™ç±¤å…§çš„ä»»ä½•ä¸æ˜¯ snippet è²æ˜çš„å…§å®¹éƒ½å°‡éš±å«æˆç‚º children snippetçš„ä¸€éƒ¨åˆ†ã€‚
`App.svelte`
```svelte
<MyButton>click me</MyButton>
```

`MyButton.svelte`
```svelte
<script>
  let { children } = $props();
</script>

<!-- çµæœå°‡æ˜¯ <button>click me</button> -->
<button>{@render children()}</button>
```

å¯ä»¥å°‡ä»£ç¢¼ç‰‡æ®µ props è²æ˜ç‚ºå¯é¸çš„ã€‚
```svelte
<script>
  let { children } = $props();
</script>

{@render children?.()}

<!-- æˆ–è€…ä½¿ç”¨ #if ä¾†æ¸²æŸ“å…¶ä»–å…§å®¹ -->
{#if children}
  {@render children()}
{:else}
  <!-- å…¶ä»–å…§å®¹ -->
{/if}
```

### Typing snippets
```svelte
<script lang="ts">
	import type { Snippet } from 'svelte';

	interface Props {
		data: any[];
		children: Snippet;
		row: Snippet<[any]>;
	}

	let { data, children, row }: Props = $props();
</script>
```
å¦‚æœå˜—è©¦åœ¨æ²’æœ‰æä¾› `data` prop å’Œ `row` ä»£ç¢¼ç‰‡æ®µçš„æƒ…æ³ä¸‹ä½¿ç”¨è©²çµ„ä»¶ï¼Œå‰‡æœƒå‡ºç¾ç´…è‰²æ³¢æµªç·šã€‚è«‹æ³¨æ„ï¼Œæä¾›çµ¦ `Snippet` çš„é¡å‹åƒæ•¸æ˜¯ä¸€å€‹å…ƒçµ„ï¼Œå› ç‚ºä»£ç¢¼ç‰‡æ®µå¯ä»¥æœ‰å¤šå€‹åƒæ•¸ã€‚
æˆ‘å€‘å¯ä»¥é€šéè²æ˜æ³›å‹ä¾†é€²ä¸€æ­¥æ”¶çª„é¡å‹ï¼Œä»¥ä¾¿ `data` å’Œ `row` å¼•ç”¨ç›¸åŒçš„é¡å‹ï¼š

```svelte
<script lang="ts" generics="T">
  import type { Snippet } from 'svelte';

  let {
    data,
    children,
    row
  }: {
    data: T[];
    children: Snippet;
    row: Snippet<[T]>;
  } = $props();
</script>
```

### Exporting snippets
âš ï¸ Svelte 5.5.0 ä»¥ä¸Š

`snippets.svelte`
```svelte
<script module>
  export { add };
</script>

{#snippet add(a, b)}
  {a} + {b} = {a + b}
{/snippet}
```

`App.svelte`
```svelte
<script>
	import { add } from './snippets.svelte';
</script>

{@render add(1, 2)}
```

> åœ¨ Svelte 4 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ æ’æ§½ å°‡å…§å®¹å‚³éçµ¦çµ„ä»¶ã€‚ä»£ç¢¼ç‰‡æ®µæ›´å¼·å¤§ã€æ›´éˆæ´»ï¼Œå› æ­¤åœ¨ Svelte 5 ä¸­æ’æ§½å·²è¢«æ£„ç”¨ã€‚


## {@render ...}
è¦æ¸²æŸ“ä¸€å€‹ snippetï¼Œè«‹ä½¿ç”¨ {@render ...}ã€‚

```svelte
{#snippet sum(a, b)}
	<p>{a} + {b} = {a + b}</p>
{/snippet}

{@render sum(1, 2)}
{@render sum(3, 4)}
{@render sum(5, 6)}
```

å¯ä»¥æ˜¯ä»»æ„çš„ JavaScript è¡¨é”å¼ã€‚
```svelte
{@render (cool ? coolSnippet : lameSnippet)()}
```