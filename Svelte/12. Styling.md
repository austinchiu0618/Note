# Styling
- [Scoped styles](#scoped-styles)
- [Global styles](#global-styles)
- [Custom properties](#custom-properties)
- [Nested `<style>` elements](#nested-style-elements)

## Scoped styles
Svelte 組件可以包含一個 `<style>` 元素，其中包含屬於該組件的 CSS。這些 CSS 默認是有作用域的，這意味着樣式不會影響到組件外部的頁面元素上。

如果組件定義了 @keyframes，名稱將會使用相同的哈希方法限定在組件作用域內。組件中的任何 animation 規則也會相應地進行調整：

```svelte
<p>在此處有作用</p>

<style>
  p {
    /* 這只會影響本組件中的 <p> 元素 */
    color: burlywood;
  }

  .myAnimation {
    animation: bounce 10s;
  }

  /* 這只能在這個組件內部訪問 */
  @keyframes bounce {
    /* ... */
  }
</style>
```

### Specificity
每個 scoped selector 都會因為添加 scoped-class（例如 `.svelte-123xyz`）而獲得 0-1-0 的優先級增加。這意味着（例如）在組件中定義的 `p` 選擇器會優先於全局樣式表中定義的 `p` 選擇器，即使全局樣式表是後加載的。


## Global styles
要在全局範圍內為單個選擇器應用樣式，請使用 `:global(...)` 修飾符：
```svelte
<style>
  :global(body) {
    /* 應用於 <body> */
    margin: 0;
  }

  div :global(strong) {
    /* 應用於屬於本組件的 <div> 元素內的所有 <strong> 元素，無論這些 <strong>屬於哪個組件 */
    color: goldenrod;
  }

  p:global(.big.red) {
    /* 應用於屬於本組件的所有帶有 `class="big red"` 的 <p> 元素，即使該 class 是以編程方式添加的（比如通過庫） */
  }

  /* 要將樣式全局應用於一組選擇器，也可以創建一個 :global {...} 塊 */
  :global {
    /* 用於應用中的每個 <div> */
    div { ... }

    /* 用於應用中的每個 <p> */
    p { ... }
  }

  .a :global {
    /* 用於屬於本組件中 .a 元素內的任何組件中的所有 `.b .c .d` 元素 */
    .b .c .d {...}
  }
</style>
```

如果你想創建全局可訪問的 `@keyframes`，你需要在關鍵幀名稱前加上 `-global-`。

編譯時 `-global-` 部分會被移除，然後在代碼的其他地方可以直接使用 `my-animation-name` 來引用該關鍵幀。
```svelte
<style>
  @keyframes -global-my-animation-name {
    /* ... */
  }
</style>
```

## Custom properties
可以將 CSS 自定義屬性（靜態和動態的）傳遞給組件：
```svelte
<Slider
  bind:value
  min={0}
  max={100}
  --track-color="black"
  --thumb-color="rgb({r} {g} {b})"
/>
```
上面代碼本質上會轉換成
```svelte
<svelte-css-wrapper style="display: contents; --track-color: black; --thumb-color: rgb({r} {g} {b})">
  <Slider
    bind:value
    min={0}
    max={100}
  />
</svelte-css-wrapper>
```
在組件內部，我們可以使用 var(...) 來讀取這些自定義屬性（並提供預設值）：
```svelte
<style>
  .track {
    background: var(--track-color, #aaa);
  }

  .thumb {
    background: var(--thumb-color, blue);
  }
</style>
```

## Nested `<style>` elements
每個組件只能有一個頂級 `<style>` 標籤。

然而，可以在其他元素或邏輯區塊內嵌套 `<style>` 標籤。

在這種情況下，`<style>` 標籤將按原樣插入到 DOM 中；不會對 `<style>` 標籤進行任何作用域限制或處理。
```svelte
<div>
	<style>
		/* 這個 style 標籤將按原樣插入 */
		div {
			/* 這將應用於 DOM 中的所有 `<div>` 元素 */
			color: red;
		}
	</style>
</div>
```